CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `urok2`.`v_autoiu_urok_def` AS 
select `b2g`(`urok2`.`iu_urok_def`.`iu_urok_defid`) AS `iu_urok_defid`,`urok2`.`iu_urok_def`.`changestamp` AS `changestamp`,`urok2`.`iu_urok_def`.`ucode` AS `iu_urok_def_ucode`,`urok2`.`iu_urok_def`.`datecreated` AS `iu_urok_def_datecreated`,`b2g`(`urok2`.`iu_urok_def`.`subject`) AS `iu_urok_def_subject_id`,`iud_predmet_brief_f`(`urok2`.`iu_urok_def`.`subject`,NULL) AS `iu_urok_def_subject`,`b2g`(`urok2`.`iu_urok_def`.`theclassnum`) AS `iu_urok_def_theclassnum_id`,`iu_clsinfo_brief_f`(`urok2`.`iu_urok_def`.`theclassnum`,NULL) AS `iu_urok_def_theclassnum`,`urok2`.`iu_urok_def`.`plannum` AS `iu_urok_def_plannum`,`b2g`(`urok2`.`iu_urok_def`.`maketown`) AS `iu_urok_def_maketown_id`,`iud_town_brief_f`(`urok2`.`iu_urok_def`.`maketown`,NULL) AS `iu_urok_def_maketown`,`b2g`(`urok2`.`iu_urok_def`.`coursetype`) AS `iu_urok_def_coursetype_id`,`iud_ctype_brief_f`(`urok2`.`iu_urok_def`.`coursetype`,NULL) AS `iu_urok_def_coursetype`,`urok2`.`iu_urok_def`.`rtheme` AS `iu_urok_def_rtheme`,`urok2`.`iu_urok_def`.`classtheme` AS `iu_urok_def_classtheme`,`urok2`.`iu_urok_def`.`thequarter` AS `iu_urok_def_thequarter_val`,(case `urok2`.`iu_urok_def`.`thequarter` when 1 then 'i' when 4 then 'iv' when 0 then '?' when 2 then 'ii' when 3 then 'iii' end) AS `iu_urok_def_thequarter`,`urok2`.`iu_urok_def`.`schooldate` AS `iu_urok_def_schooldate`,`b2g`(`urok2`.`iu_urok_def`.`curator`) AS `iu_urok_def_curator_id`,`iu_u_def_brief_f`(`urok2`.`iu_urok_def`.`curator`,NULL) AS `iu_urok_def_curator`,`b2g`(`urok2`.`iu_urok_def`.`theteacher`) AS `iu_urok_def_theteacher_id`,`iu_tmdef_brief_f`(`urok2`.`iu_urok_def`.`theteacher`,NULL) AS `iu_urok_def_theteacher`,`b2g`(`urok2`.`iu_urok_def`.`methodist`) AS `iu_urok_def_methodist_id`,`iu_tmdef_brief_f`(`urok2`.`iu_urok_def`.`methodist`,NULL) AS `iu_urok_def_methodist`,`b2g`(`urok2`.`iu_urok_def`.`methodist2`) AS `iu_urok_def_methodist2_id`,`iu_tmdef_brief_f`(`urok2`.`iu_urok_def`.`methodist2`,NULL) AS `iu_urok_def_methodist2`,`b2g`(`urok2`.`iu_urok_def`.`processtype`) AS `iu_urok_def_processtype_id`,`iud_process_def_brief_f`(`urok2`.`iu_urok_def`.`processtype`,NULL) AS `iu_urok_def_processtype`,`b2g`(`urok2`.`iu_urok_def`.`topstage`) AS `iu_urok_def_topstage_id`,`iud_stagedef_brief_f`(`urok2`.`iu_urok_def`.`topstage`,NULL) AS `iu_urok_def_topstage`,`b2g`(`urok2`.`iu_urok_def`.`iu_urok_stage`) AS `iu_urok_def_iu_urok_stage_id`,`iu_status_brief_f`(`urok2`.`iu_urok_def`.`iu_urok_stage`,NULL) AS `iu_urok_def_iu_urok_stage`,`urok2`.`iu_urok_def`.`isdone` AS `iu_urok_def_isdone_val`,(case `urok2`.`iu_urok_def`.`isdone` when -(1) then 'да' when 0 then 'нет' end) AS `iu_urok_def_isdone`,`urok2`.`iu_urok_def`.`testpageref` AS `iu_urok_def_testpageref`,`urok2`.`iu_urok_def`.`mainref` AS `iu_urok_def_mainref`,`b2g`(`urok2`.`iu_urok_def`.`instanceid`) AS `instanceid`,`urok2`.`iu_urok_def`.`instanceid` AS `instanceid_val`,`urok2`.`instance`.`archived` AS `instance_archived`,`b2g`(`urok2`.`iu_urok_def`.`iu_urok_defid`) AS `id`,'iu_urok_def' AS `viewbase`,`xxxmystatusxxx`.`name` AS `statusname`,`b2g`(`xxxmystatusxxx`.`objstatusid`) AS `intsancestatusid` from ((`urok2`.`iu_urok_def` join `urok2`.`instance` on((`urok2`.`iu_urok_def`.`instanceid` = `urok2`.`instance`.`instanceid`))) left join `urok2`.`objstatus` `xxxmystatusxxx` on((`urok2`.`instance`.`status` = `xxxmystatusxxx`.`objstatusid`)));
